From 57f4aaac65c2930071351a36d925c1b9fb96ece2 Mon Sep 17 00:00:00 2001
From: Francois Herbert <francois@herbert.org.nz>
Date: Sat, 9 Aug 2025 09:22:58 +1200
Subject: [PATCH] Patched for Raspberry Pi 5

---
 hack/modules-arm64.txt | 34 +++++++++++++++++++++++++++++++++-
 1 file changed, 33 insertions(+), 1 deletion(-)

diff --git a/hack/modules-arm64.txt b/hack/modules-arm64.txt
index f2215167c..40c3737df 100644
--- a/hack/modules-arm64.txt
+++ b/hack/modules-arm64.txt
@@ -1,9 +1,13 @@
+kernel/arch/arm64/lib/xor-neon.ko
 kernel/crypto/async_tx/async_memcpy.ko
 kernel/crypto/async_tx/async_pq.ko
 kernel/crypto/async_tx/async_raid6_recov.ko
 kernel/crypto/async_tx/async_tx.ko
 kernel/crypto/async_tx/async_xor.ko
+kernel/crypto/blake2b_generic.ko
 kernel/crypto/xor.ko
+kernel/crypto/xxhash_generic.ko
+kernel/drivers/acpi/video.ko
 kernel/drivers/ata/ahci.ko
 kernel/drivers/ata/pata_amd.ko
 kernel/drivers/ata/pata_marvell.ko
@@ -21,6 +25,8 @@ kernel/drivers/gpu/drm/hisilicon/hibmc/hibmc-drm.ko
 kernel/drivers/gpu/drm/scheduler/gpu-sched.ko
 kernel/drivers/gpu/drm/tegra/tegra-drm.ko
 kernel/drivers/gpu/drm/ttm/ttm.ko
+kernel/drivers/gpu/drm/v3d/v3d.ko
+kernel/drivers/gpu/drm/vc4/vc4.ko
 kernel/drivers/gpu/host1x/host1x.ko
 kernel/drivers/hid/hid-a4tech.ko
 kernel/drivers/hid/hid-apple.ko
@@ -54,7 +60,13 @@ kernel/drivers/infiniband/hw/mlx5/mlx5_ib.ko
 kernel/drivers/infiniband/sw/rxe/rdma_rxe.ko
 kernel/drivers/irqchip/irq-imx-mu-msi.ko
 kernel/drivers/mailbox/bcm-flexrm-mailbox.ko
-kernel/drivers/md/bcache/bcache.ko
+kernel/drivers/media/common/videobuf2/videobuf2-common.ko
+kernel/drivers/media/common/videobuf2/videobuf2-memops.ko
+kernel/drivers/media/common/videobuf2/videobuf2-v4l2.ko
+kernel/drivers/media/common/videobuf2/videobuf2-vmalloc.ko
+kernel/drivers/media/mc/mc.ko
+kernel/drivers/media/v4l2-core/v4l2-dv-timings.ko
+kernel/drivers/media/v4l2-core/videodev.ko
 kernel/drivers/md/dm-bio-prison.ko
 kernel/drivers/md/dm-cache-smq.ko
 kernel/drivers/md/dm-cache.ko
@@ -64,6 +76,7 @@ kernel/drivers/md/dm-round-robin.ko
 kernel/drivers/md/dm-thin-pool.ko
 kernel/drivers/md/persistent-data/dm-persistent-data.ko
 kernel/drivers/md/raid456.ko
+kernel/drivers/misc/bcm2835_smi.ko
 kernel/drivers/misc/hpilo.ko
 kernel/drivers/mmc/host/sdhci_f_sdh30.ko
 kernel/drivers/mmc/host/sdhci-acpi.ko
@@ -145,6 +158,7 @@ kernel/drivers/net/ethernet/stmicro/stmmac/stmmac-pci.ko
 kernel/drivers/net/ethernet/stmicro/stmmac/stmmac-platform.ko
 kernel/drivers/net/ethernet/stmicro/stmmac/stmmac.ko
 kernel/drivers/net/mdio.ko
+kernel/drivers/net/mdio/mdio-mux-meson-gxl.ko
 kernel/drivers/net/pcs/pcs_xpcs.ko
 kernel/drivers/net/phy/dp83867.ko
 kernel/drivers/net/usb/r8152.ko
@@ -205,6 +219,24 @@ kernel/lib/raid6/raid6_pq.ko
 kernel/net/ipv4/ip_gre.ko
 kernel/net/openvswitch/vport-gre.ko
 kernel/net/tls/tls.ko
+kernel/sound/core/snd.ko
+kernel/sound/core/snd-pcm.ko
+kernel/sound/core/snd-pcm-dmaengine.ko
+kernel/sound/core/snd-timer.ko
+kernel/sound/soc/codecs/snd-soc-hdmi-codec.ko
+kernel/sound/soc/snd-soc-core.ko
+kernel/sound/soundcore.ko
+modules.alias
+modules.alias.bin
 modules.builtin
+modules.builtin.alias.bin
+modules.builtin.bin
 modules.builtin.modinfo
+modules.dep
+modules.dep.bin
+modules.devname
 modules.order
+modules.softdep
+modules.symbols
+modules.symbols.bin
+modules.weakdep
-- 
2.39.5 (Apple Git-154)

